{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/brand.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/car.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../pipes/filter-brand-pipe.pipe\";\n\nfunction BrandComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.filterText, \" aran\\u0131yor...\\n\");\n  }\n}\n\nfunction BrandComponent_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 9);\n    i0.ɵɵlistener(\"click\", function BrandComponent_li_9_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const brand_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.setCurrentBrand(brand_r2);\n    });\n    i0.ɵɵelementStart(1, \"h6\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const brand_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r1.getCurrentBrandClass(brand_r2));\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/cars/brand/\", brand_r2.brandId, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(brand_r2.brandName);\n  }\n}\n\nexport let BrandComponent = /*#__PURE__*/(() => {\n  class BrandComponent {\n    constructor(brandService, router, carService) {\n      this.brandService = brandService;\n      this.router = router;\n      this.carService = carService;\n      this.brands = [];\n      this.carDetails = [];\n      this.filterText = '';\n    }\n\n    ngOnInit() {\n      this.getBrands();\n    }\n\n    getBrands() {\n      this.brandService.getBrands().subscribe(response => {\n        this.brands = response.data;\n      });\n    }\n\n    getAllCars() {\n      this.carService.getCarDetails().subscribe(response => {\n        this.carDetails = response.data;\n      });\n      this.currentBrand = {\n        brandId: 0,\n        brandName: ''\n      }; // aşağıda yapılmak istenen, All Cars a tıklandığında, menüdeki seçili öğelerin aktivasyonu durdurulur.(mavi olarak seçili kalmasını engeller.)\n\n      console.log('tetiklenme işlemi gerçekleşiyor.');\n      this.brandService.statusUpdated.emit(); // componentler arasında iletişim kurmayı sağlar. Bu metot tetiklendiğinde, color component in constructor ı  içerisindeki metot tetiklenir. böylelikle iki component arasında iletişim kurulmuş olur.\n    }\n\n    setCurrentBrand(brand) {\n      this.currentBrand = brand;\n      console.log(brand.brandName);\n    }\n\n    getCurrentBrandClass(brand) {\n      if (brand == this.currentBrand) {\n        return 'list-group-item active';\n      } else {\n        return 'list-group-item';\n      }\n    }\n\n    getAllBrandClass() {\n      if (!this.currentBrand) {\n        return 'list-group-item active';\n      } else {\n        return 'list-group-item';\n      }\n    }\n\n    doFilter(brand) {\n      this.currentBrand = brand;\n      this.router.navigate([''], {\n        queryParams: {\n          brandId: brand.brandId\n        },\n        queryParamsHandling: 'merge'\n      });\n    }\n\n    clearFilter() {\n      this.filterText = '';\n      this.getBrands();\n    }\n\n  }\n\n  BrandComponent.ɵfac = function BrandComponent_Factory(t) {\n    return new (t || BrandComponent)(i0.ɵɵdirectiveInject(i1.BrandService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CarService));\n  };\n\n  BrandComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BrandComponent,\n    selectors: [[\"app-brand\"]],\n    decls: 13,\n    vars: 6,\n    consts: [[1, \"m-3\"], [\"for\", \"exampleFormControlInput1\", 1, \"form-label\", 2, \"color\", \"rgb(74, 141, 7)\"], [\"type\", \"text\", \"id\", \"filterText\", \"placeholder\", \"Arama ifadesi giriniz...\", 1, \"form-control\", 2, \"border-radius\", \"10px\", \"border-color\", \"rgb(74, 141, 7)\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"alert-warning m-2\", 4, \"ngIf\"], [1, \"list-group\"], [1, \"list-group-item\", \"list-group-item-dark\"], [3, \"routerLink\", \"class\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/cars\", \"type\", \"button\", \"aria-current\", \"true\", 1, \"btn\", \"btn-outline-dark\", 3, \"click\"], [1, \"alert-warning\", \"m-2\"], [3, \"routerLink\", \"click\"]],\n    template: function BrandComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"label\", 1);\n        i0.ɵɵtext(2, \"Marka ara\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function BrandComponent_Template_input_ngModelChange_3_listener($event) {\n          return ctx.filterText = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, BrandComponent_div_4_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementStart(5, \"ul\", 4);\n        i0.ɵɵelementStart(6, \"li\", 5);\n        i0.ɵɵelementStart(7, \"h5\");\n        i0.ɵɵtext(8, \"MARKA\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, BrandComponent_li_9_Template, 3, 4, \"li\", 6);\n        i0.ɵɵpipe(10, \"filterBrandPipe\");\n        i0.ɵɵelementStart(11, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function BrandComponent_Template_button_click_11_listener() {\n          return ctx.clearFilter();\n        });\n        i0.ɵɵtext(12, \" Filtreyi temizle \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.filterText);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.filterText.length > 2);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(10, 3, ctx.brands, ctx.filterText));\n      }\n    },\n    directives: [i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.NgIf, i5.NgForOf, i2.RouterLink],\n    pipes: [i6.FilterBrandPipePipe],\n    styles: [\"\"]\n  });\n  return BrandComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}