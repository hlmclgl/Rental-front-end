{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet RentalComponent = class RentalComponent {\n  constructor(rentalService, router, customerService, toastrService, authService) {\n    this.rentalService = rentalService;\n    this.router = router;\n    this.customerService = customerService;\n    this.toastrService = toastrService;\n    this.authService = authService;\n    this.rentals = [];\n  }\n\n  ngOnInit() {\n    this.getCustomers();\n  }\n\n  getCustomers() {\n    this.customerService.getCustomers().subscribe(response => {\n      this.customers = response.data;\n    });\n  }\n\n  isLogOk() {\n    if (this.authService.isAuthenticated()) {\n      return true;\n    } else {\n      this.toastrService.error('Giriş yapmak zorundasınız');\n      this.router.navigate(['/login']);\n      return false;\n    }\n  }\n\n  getDate(day) {\n    var today = new Date();\n    today.setDate(today.getDate() + day);\n    return today.toISOString().slice(0, 10);\n  }\n\n  add() {\n    let rental = {\n      carId: this.car.id,\n      customerId: parseInt(this.customerId.toString()),\n      rentDate: this.rentDate,\n      returnDate: this.returnDate\n    };\n    this.rentalService.add(rental).subscribe(data => {\n      this.toastrService.info('Ödeme sayfasına yönlendiriliyorsunuz!!');\n      this.toastrService.success('Kiralama İşlemi Başarılı');\n      this.router.navigate(['/payment', JSON.stringify(rental)]);\n    }, responseError => {\n      this.toastrService.error(responseError.error);\n      this.toastrService.error(responseError.Message);\n    });\n  }\n\n};\n\n__decorate([Input()], RentalComponent.prototype, \"car\", void 0);\n\nRentalComponent = __decorate([Component({\n  selector: 'app-rental',\n  templateUrl: './rental.component.html',\n  styleUrls: ['./rental.component.css']\n})], RentalComponent);\nexport { RentalComponent };","map":null,"metadata":{},"sourceType":"module"}